(function(){"use strict";var e={6518:function(e,t,r){var n=r(5130),i=r(6768),a=r.p+"img/Icon.25ee96ee.svg";const s=e=>((0,i.Qi)("data-v-c9354060"),e=e(),(0,i.jt)(),e),l={class:"header"},o=s((()=>(0,i.Lk)("h1",{class:"mark-title"},[(0,i.Lk)("div",{class:"mark"},[(0,i.Lk)("img",{src:a})]),(0,i.eW)(" Ekvio DS ")],-1))),u=s((()=>(0,i.Lk)("h2",{class:"title"},"File Input",-1))),c=[o,u];function f(e,t){return(0,i.uX)(),(0,i.CE)("header",l,c)}var p=r(1241);const d={},v=(0,p.A)(d,[["render",f],["__scopeId","data-v-c9354060"]]);var g=v;const h={class:"centered-block"};function k(e,t){return(0,i.uX)(),(0,i.CE)("div",h,[(0,i.RG)(e.$slots,"default",{},void 0,!0)])}const b={},m=(0,p.A)(b,[["render",k],["__scopeId","data-v-05bf5434"]]);var _=m,y=r(144),F=r(4232),S=r.p+"img/Line.d85d145e.svg",C=r(3367);const L=(0,C.nY)("file",{state:()=>({currentFile:null,imageUrl:"",fileState:"empty",errorMessage:"",isCanceled:!1}),getters:{buttonText:e=>{switch(e.fileState){case"uploading":return"Отменить";case"uploaded":return"Удалить";case"empty":case"error":default:return"Выбрать файл"}}},actions:{selectFile(e){const t=["image/jpeg","image/png"];return e?t.includes(e.type)?(this.fileState="uploading",this.isCanceled=!1,void setTimeout((()=>{if(!this.isCanceled){const t=new FileReader;t.onload=t=>{const r=t.target?.result;"string"===typeof r?(this.imageUrl=r,this.currentFile=e,this.fileState="uploaded"):(this.fileState="error",this.errorMessage="Ошибка при чтении файла")},t.onerror=()=>{this.fileState="error",this.errorMessage="Ошибка при чтении файла"},t.readAsDataURL(e)}}),500)):(this.fileState="error",void(this.errorMessage="Неверный формат файла")):(this.fileState="error",void(this.errorMessage="Необходимо выбрать файл"))},resetFile(){this.isCanceled=!0,this.currentFile=null,this.imageUrl="",this.fileState="empty",this.errorMessage=""}}});var j=(0,i.pM)({__name:"FileButton",setup(e){const t=(0,y.KR)(null),r=L(),n=()=>{"uploading"===r.fileState||"uploaded"===r.fileState?r.resetFile():t.value?.click()},a=e=>{const t=e.target.files;t&&r.selectFile(t[0])};return(e,s)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("input",{type:"file",onChange:a,accept:".jpg,.jpeg,.png",style:{display:"none"},ref_key:"fileInput",ref:t},null,544),(0,i.Lk)("button",{class:"file-button",onClick:n},(0,F.v_)((0,y.R1)(r).buttonText),1)],64))}});const R=(0,p.A)(j,[["__scopeId","data-v-5d1c8659"]]);var E=R;const M=e=>((0,i.Qi)("data-v-3781d78c"),e=e(),(0,i.jt)(),e),O={class:"file-input-area"},w=M((()=>(0,i.Lk)("label",{class:"file-label"},"Загрузка изображения",-1))),I={key:0},X=M((()=>(0,i.Lk)("span",{class:"file-status"},"Файл не выбран",-1))),x={key:1,class:"file-selection"},A=M((()=>(0,i.Lk)("span",{class:"file-status","aria-live":"polite"},[(0,i.Lk)("img",{src:S,alt:"Loading",class:"loading-icon"}),(0,i.eW)(" Загрузка файла... ")],-1))),T={key:2,class:"file-selection"},U={class:"file-status"};var Q=(0,i.pM)({__name:"FileInputArea",setup(e){const t=L();return(e,r)=>((0,i.uX)(),(0,i.CE)("div",O,[w,"empty"===(0,y.R1)(t).fileState||"error"===(0,y.R1)(t).fileState?((0,i.uX)(),(0,i.CE)("div",I,[(0,i.bF)(E),X])):"uploading"===(0,y.R1)(t).fileState?((0,i.uX)(),(0,i.CE)("div",x,[(0,i.bF)(E),A])):"uploaded"===(0,y.R1)(t).fileState?((0,i.uX)(),(0,i.CE)("div",T,[(0,i.bF)(E),(0,i.Lk)("span",U,(0,F.v_)((0,y.R1)(t).currentFile?.name),1)])):(0,i.Q3)("",!0),(0,i.Lk)("span",{class:(0,F.C4)([{"error-message":"error"===(0,y.R1)(t).fileState},"file-hint"])},(0,F.v_)("error"===(0,y.R1)(t).fileState?(0,y.R1)(t).errorMessage:"Доступные форматы: .jpg, .jpeg, .png"),3)]))}});const D=(0,p.A)(Q,[["__scopeId","data-v-3781d78c"]]);var K=D;const P={class:"app-container"};var W=(0,i.pM)({__name:"App",setup(e){return(e,t)=>((0,i.uX)(),(0,i.CE)("div",P,[(0,i.bF)(g),(0,i.bF)(_,null,{default:(0,i.k6)((()=>[(0,i.bF)(K)])),_:1})]))}});const B=W;var G=B;const Y=(0,n.Ef)(G),$=(0,C.Ey)();Y.use($),Y.mount("#app")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,n,i,a){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],a=e[c][2];for(var l=!0,o=0;o<n.length;o++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[o])}))?n.splice(o--,1):(l=!1,a<s&&(s=a));if(l){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,i,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.p="/file-uploader-vue3/"}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,s=n[0],l=n[1],o=n[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(o)var c=o(r)}for(t&&t(n);u<s.length;u++)a=s[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self["webpackChunkfile_uploader"]=self["webpackChunkfile_uploader"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(6518)}));n=r.O(n)})();
//# sourceMappingURL=app.5c8d1c15.js.map